## 一、位运算常见操作技巧
### 位操作符
- '^'：异或
- '&'：与
- '|'：或
- '~'：取反
- '<<'：左移 乘2
- '>>'：右移 除2
- '>>>'：无符号右移 除2

### 位操作
- 0s表示一串0，1s表示一串1

```
x ^ 0s = x      x & 0s = 0      x | 0s = x
x ^ 1s = ~x     x & 1s = x      x | 1s = 1s
x ^ x = 0       x & x = x       x | x = x
```

### 常见应用
#### 异或
- 交换两个数：a ^ b ^ b=a
  1. 任何数和本身异或为0
  2. 任何数和0异或是本身
  3. 任何数和1异或是本身取反
  4. a ^ b ^ c= a ^ c ^ b异或具有交换律
- 自反性：即a^c=b <=> b^c=a
  - 直到两个直接推出第三个数
- a ^ b 表示没有考虑进位的情况下两数的和， (a & b) << 1 就是进位

#### 与
- 位运算判断奇偶数：x&1，为1说明x是奇数否则偶数
- x&(-x)：保留二进制下最后/右出现的1的位置，其余位置置0（即一个数中最大的2的n次幂的因数
  - -x的含义是按位取反+1
    - 即-x==~x+1
- (x−1)解析：二进制数字n最右边的1变成0，此1右边的0都变成1
- x&(x-1)：消除二进制下最后出现1的位置，其余保持不变

#### 其他技巧
1. 利用或操作|和空格将英文字符转换为小写

```
('a' | ' ') = 'a'
('A' | ' ') = 'a'
```
2. 利用与操作&和下划线将英文字符转换为大写

```
('b' & '_') = 'B'
('B' & '_') = 'B'
```
3. 利用异或操作^和空格进行英文字符大小写互换

```
('d' ^ ' ') = 'D'
('D' ^ ' ') = 'd'
```
4. 判断两个数是否异号

```
int x = -1, y = 2;
bool f = ((x ^ y) < 0); // true

int x = 3, y = 2;
bool f = ((x ^ y) < 0); // false
```
5. 不用临时变量交换两个数
  - ==不适用于含0的交换==
  - 比如[0,3]交换
    - a=0^3=0
    - b=3^0=0
    - a=0^0=0
  - 交换结果为[0,0]

```
int a = 1, b = 2;
a ^= b;
b ^= a;
a ^= b;
拆分：
a=a^b
b=b^a^b=a
a=a^b^a=b
// 现在 a = 2, b = 1
```
6. 判断一个数是不是 2 的指数

```
例如：
2^0 = 1 = 0b0001
2^1 = 2 = 0b0010
2^2 = 4 = 0b0100
方法：
bool isPowerOfTwo(int n) {
    if (n <= 0) return false;
    return (n & (n - 1)) == 0;
}
```
